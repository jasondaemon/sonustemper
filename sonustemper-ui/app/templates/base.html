<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block page_title %}SonusTemper{% endblock %}</title>
  <link rel="stylesheet" href="/ui/static/css/app.css">
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script defer src="/ui/static/js/app.js"></script>
</head>
<body>
  <div class="page">
    <div class="top">
      <div>
        <h1>{% block title %}{% endblock %}</h1>
        <div class="sub">{% block subtitle %}{% endblock %}</div>
      </div>
      <div class="utilMenu">
        <button class="utilToggle" id="utilToggleGlobal" aria-haspopup="true" aria-expanded="false">â˜° Utilities</button>
        <div class="utilDropdown hidden" id="utilDropdownGlobal">
          <a href="/">Mastering</a>
          <div class="divider"></div>
          <a href="/ui/files" class="active">File Manager</a>
          <a href="/ui/mastering">Mastering (new)</a>
          <a href="/ui/tagging">Tagging (new)</a>
          <a href="/ui/presets">Presets (new)</a>
          <div class="divider"></div>
          <a href="/manage-presets">Preset Manager (legacy)</a>
          <a href="/tagger">Tag Editor (legacy)</a>
        </div>
      </div>
    </div>
    <div class="layout">
      {% include "partials/sidebar.html" %}
      <div class="content">
        {% block content %}{% endblock %}
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      if (typeof setupUtilMenu === 'function') {
        setupUtilMenu('utilToggleGlobal','utilDropdownGlobal');
      }
    });
  </script>
  {% block extra_js %}{% endblock %}
</body>
</html>
