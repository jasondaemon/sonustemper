<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block page_title %}SonusTemper{% endblock %}</title>
  <link rel="stylesheet" href="/ui/static/css/app.css">
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script defer src="/ui/static/js/app.js"></script>
</head>
<body>
  <div class="page">
    <div id="toast" class="toast hidden"></div>
{% set current_page = current_page or '' %}
<div class="top">
  <div>
    <h1>{% block title %}{% endblock %}</h1>
    <div class="sub">{% block subtitle %}{% endblock %}</div>
  </div>
  <div class="utilMenu">
    <button class="utilToggle" id="utilToggleGlobal" aria-haspopup="true" aria-expanded="false">â˜°</button>
    <div class="utilDropdown hidden" id="utilDropdownGlobal">
          <a href="/" class="{% if current_page=='' %}active{% endif %}">Start</a>
          <div class="divider"></div>
          <a href="/ui/files" class="{% if current_page=='files' %}active{% endif %}">File Manager</a>
          <a href="/ui/mastering" class="{% if current_page=='mastering' %}active{% endif %}">Mastering</a>
          <a href="/analyze" class="{% if current_page=='analyze' %}active{% endif %}">Analyze</a>
          <a href="/ui/tagging" class="{% if current_page=='tagging' %}active{% endif %}">Tagging</a>
          <a href="/ui/presets" class="{% if current_page=='presets' %}active{% endif %}">Voicing Profiles</a>
    </div>
  </div>
</div>
    <div class="layout">
      <div class="sidebar-slot">
        {% block sidebar %}{% endblock %}
      </div>
      <div class="content">
        {% block content %}{% endblock %}
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      if (typeof setupUtilMenu === 'function') {
        setupUtilMenu('utilToggleGlobal','utilDropdownGlobal');
      }
    });
  </script>
  {% block extra_js %}{% endblock %}
</body>
</html>
